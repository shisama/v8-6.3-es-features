<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Async Iterators / Generators Demo</title>
</head>
<body>
<h1>Async Iterators / Generators Demo</h1>
<p style="color: red">Please use Chrome 63 or newer.</p>
<p>Please open DevTools to see script and console.</p>
<p>Spec: <a href="https://tc39.github.io/proposal-async-iteration/" target="_blank">tc39/proposal-async-iteration</a></p>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script type="text/javascript">
  async function* gen() {
    const tags = [
      "Node.js",
      "JavaScript",
      "npm"
    ];
    const promises = [];

    for (const tag of tags) {
      promises.push(axios.get(`https://qiita.com/api/v2/tags/${tag}`),)
    }

    for (const promise of promises) {
      yield promise;
    }
  }

  (async() => {
    for await (const res of gen()) {
      console.log(res.data);
    }
  })();
</script>
</body>
</html>