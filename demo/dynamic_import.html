<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dynamic Import Demo</title>
</head>
<body>
<h1>Dynamic Import Demo</h1>
<p style="color: red">Please use Chrome 63 or newer.</p>
<p>Please open DevTools to see script and console.</p>
<p>Spec: <a href="https://tc39.github.io/proposal-dynamic-import/" target="_blank">tc39/proposal-dynamic-import</a></p>
<script type="module">
  (async() => {
    let count = 0;
    let id = setInterval(async() => {
      const i = Math.floor(Math.random() * 3) + 1;
      const module = await import(`./import_modules/hello${i}.js`);
      module.hello();
      count++;
      if (count === 10) {
        clearInterval(id);
      }
    }, 1000);
  })();
</script>
</body>
</html>